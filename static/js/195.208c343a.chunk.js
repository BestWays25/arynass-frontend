"use strict";(self.webpackChunkarynass_front=self.webpackChunkarynass_front||[]).push([[195],{9274:function(e,s,t){t.r(s),t.d(s,{default:function(){return w}});var n=t(4942),a=t(1413),c=t(885),r=t(7313),l=t(3709),i=t(6770),d=t(3360),o=t(7890),m=t(2210),u=(t(3151),t(9946),t(1417)),x=t(9696),h=t(2146),j=t(3560),f=t(6417),p=function(e){var s=e.stars/5*100,t="".concat(10*Math.round(s/10),"%");return(0,f.jsxs)("div",{className:"d-flex flex-row  gap-2",children:[(0,f.jsx)("div",{className:"stars-outer",children:(0,f.jsx)("div",{className:"stars-inner",style:{position:"absolute",top:0,left:0,whiteSpace:"nowrap",overflow:"hidden",width:"".concat(t)}})}),e?(0,f.jsx)("span",{className:"number-rating"}):(0,f.jsx)(f.Fragment,{})]})},g=function(e){var s=(0,r.useState)([]),t=(0,c.Z)(s,2),n=t[0],a=t[1],l=(0,r.useState)(!1),i=(0,c.Z)(l,2),d=i[0],o=i[1],m=(0,r.useState)({stars:"",userId:null,productId:null,comment:""}),u=(0,c.Z)(m,2),x=u[0];u[1],x.stars,x.userId,x.productId,x.comment;(0,r.useEffect)((function(){h.Z.getProductReviews(e.productId).then((function(e){a(e),o(!d)})).catch((function(e){return console.log("error : fetching data failed",e)}))}),[e.productId,d]);var j=n.stars/5*100;"".concat(10*Math.round(j/10),"%");return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("div",{className:"",children:n&&n.map((function(e){return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("div",{className:"comment mt-4 p-md-4 w-100  text-justify float-left",children:[(0,f.jsx)("img",{src:"https://res.cloudinary.com/dyxihqmg8/image/upload/v1655036786/profile_tee20g.jpg",alt:"",className:"rounded-circle",width:"40",height:"40"}),(0,f.jsx)("h4",{className:"ms-2",children:e.user.username}),(0,f.jsxs)("span",{className:"float-end",children:[" ",e.createdAt]}),(0,f.jsx)("br",{}),(0,f.jsx)("p",{children:e.comment}),(0,f.jsx)(p,{stars:e.stars})]})})}))})})},N=(t(8193),t(6699)),v=[{label:"Poor",value:1},{label:"Fair",value:2},{label:"Good",value:3},{label:"Very Good",value:4},{label:"Excellent",value:5}],b=function(e){var s=(0,r.useState)({stars:"",userId:null,productId:null,comment:""}),t=(0,c.Z)(s,2),l=t[0],i=t[1],d=l.stars,o=(l.userId,l.productId,l.comment),m=function(e){i((function(s){return(0,a.Z)((0,a.Z)({},s),{},(0,n.Z)({},e.target.name,e.target.value))}))};return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("form",{id:"algin-form",children:[(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("h4",{className:"mb-2 text-dark",children:"Leave a comment"}),(0,f.jsxs)("label",{for:"stars",className:"form-label fw-semibold",children:["your oppinion ",(0,f.jsx)("span",{className:"text-danger",children:" *"})]}),"                                    ",(0,f.jsx)("select",{className:"form-control w-55 text-center",id:"stars",name:"stars",value:d,onChange:m,required:!0,children:v.map((function(e){return(0,f.jsx)("option",{value:e.value,children:e.label})}))}),(0,f.jsx)("label",{for:"message",className:"mb-2 mt-2",children:"write your comment :"}),(0,f.jsx)("textarea",{id:"message",msg:!0,cols:"30",rows:"5",className:"form-control",name:"comment",value:o,onChange:m})]}),(0,f.jsx)("div",{className:"form-group",children:(0,f.jsx)("button",{type:"button",className:"btn btn-outline-dark mt-4",onClick:function(s){s.preventDefault();var t={stars:d,userId:e.userId,productId:e.productId,comment:o};h.Z.createRating(t).then((function(e){e&&j.Am.success("your comment sent successufully")})).catch((function(e){j.Am.error(e.message)}))},children:"Post Comment"})})]})})},w=function(){var e=(0,r.useState)(null),s=(0,c.Z)(e,2),t=s[0],n=s[1],a=(0,r.useState)(1),p=(0,c.Z)(a,2),v=p[0],w=p[1],y=(0,l.v9)((function(e){return e.auth})).user,I=(0,l.v9)((function(e){return e.shopping})).shopping_session,S=(0,r.useState)([]),Z=(S.reviews,S.setReviews,(0,r.useState)([])),k=(0,c.Z)(Z,2),C=(k[0],k[1]),F=(0,r.useState)([]),P=(0,c.Z)(F,2),R=P[0],A=P[1],q=(0,o.UO)().pid;(0,r.useEffect)((function(){i.Z.getProductById(parseInt(q)).then((function(e){return A(e[0])})).catch((function(e){return console.log(e)})),h.Z.getProductReviews(R.id).then((function(e){return C(e)})).catch((function(e){return console.log("error : fetching data failed",e)}))}),[]);var _=function(){w(v-1)},L=function(){w(v+1)},M=(0,r.useState)({stars:"",userId:null,productId:null,comment:""}),B=(0,c.Z)(M,2),E=B[0];B[1],E.stars,E.userId,E.productId,E.comment;return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(x.Z,{children:[(0,f.jsxs)("div",{id:"searchpage",className:"container py-5 mt-5",children:[(0,f.jsx)("header",{className:"blog-header py-3",children:(0,f.jsxs)("div",{className:"row justify-content-between align-items-center",children:[(0,f.jsx)("div",{className:"col-4 pt-1",children:(0,f.jsxs)("h4",{className:"brand-title lh-1",children:["ARYNASS",(0,f.jsx)("h6",{className:"fst-italic brand-title-text",children:" COSMITICS"})]})}),(0,f.jsx)("div",{className:"col-6 text-center d-flex"})]})}),(0,f.jsx)("hr",{className:""})]}),(0,f.jsx)("section",{className:"",children:(0,f.jsx)("div",{id:"details",className:"container mb-5",children:(0,f.jsx)("div",{className:"card",children:(0,f.jsx)("div",{className:"container-fliud",children:(0,f.jsxs)("div",{className:"wrapper row",children:[(0,f.jsxs)("div",{className:"preview col-md-6",children:[(0,f.jsxs)(m.tq,{style:{"--swiper-navigation-color":"#fff","--swiper-pagination-color":"#fff"},spaceBetween:10,navigation:!0,thumbs:{swiper:t},modules:[u.Rv,u.W_,u.o3],className:"mySwiper2",children:[(0,f.jsx)(m.o5,{children:(0,f.jsx)("img",{src:R.image})}),(0,f.jsx)(m.o5,{children:(0,f.jsx)("img",{src:"/assests/backpro1.jpeg"})})]}),(0,f.jsxs)(m.tq,{onSwiper:n,spaceBetween:10,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,modules:[u.Rv,u.W_,u.o3],className:"mySwiper",children:[(0,f.jsx)(m.o5,{children:(0,f.jsx)("img",{src:R.image})}),(0,f.jsx)(m.o5,{children:(0,f.jsx)("img",{src:"/assests/backpro1.jpeg"})})]})]}),(0,f.jsxs)("div",{className:"details col-md-6",children:[R?(0,f.jsx)("h3",{className:"product-title mb-3",children:R.name}):(0,f.jsx)("h3",{children:"Loading..."}),R?(0,f.jsxs)("p",{className:"product-description",children:[" ",R.description]}):(0,f.jsx)(f.Fragment,{children:"Loading..."}),(0,f.jsxs)("div",{className:"flex-container mb-0",children:[(0,f.jsxs)("div",{className:"justify-content-between align-items-center flex-box d-flex",children:[(0,f.jsx)("h6",{className:"float-start",children:"Price"}),R?(0,f.jsxs)("span",{className:"float-end fw-bold fs-5",children:["$",R.price]}):(0,f.jsx)(f.Fragment,{children:"Loading..."})]}),(0,f.jsxs)("div",{className:"justify-content-between align-items-center flex-box d-flex",children:[(0,f.jsx)("h6",{className:"float-start",children:"Status"}),0===R.quantity?(0,f.jsx)("span",{className:"float-end fw-bold fs-6 text-danger",children:"Out of Stock"}):(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("span",{className:"float-end fw-bold fs-6 text-success",children:"In Stock"})})]}),(0,f.jsxs)("div",{className:"justify-content-between align-items-center flex-box d-flex",children:[(0,f.jsx)("h6",{className:"float-start",children:"Reviews"}),(0,f.jsx)("div",{className:"float-end",children:R&&R.id?(0,f.jsx)("div",{className:"float-end",children:(0,f.jsx)(N.Z,{id:R.id})}):(0,f.jsx)(f.Fragment,{})})]}),(0,f.jsxs)("div",{className:"justify-content-between align-items-center flex-box d-flex",children:[(0,f.jsx)("h6",{className:"float-start",children:"Quantity"}),(0,f.jsx)("div",{className:"float-end",children:1===v?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("button",{className:"btn btn-outline-warning",onClick:L,children:"+"}),(0,f.jsx)("span",{className:"mx-3 ",children:v}),(0,f.jsx)("button",{className:"btn btn-outline-warning",disabled:!0,onClick:_,children:"-"})]}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("button",{className:"btn btn-outline-warning",onClick:L,children:"+"}),(0,f.jsx)("span",{className:" mx-3",children:v}),(0,f.jsx)("button",{className:"btn btn-outline-warning",onClick:_,children:"-"})]})})]})]}),(0,f.jsx)("div",{children:R?(0,f.jsx)("div",{className:"float-end",children:(0,f.jsxs)("p",{className:"price mt-2",children:["current price: ",(0,f.jsxs)("span",{children:["$",parseFloat(R.price*v).toFixed(2)]})]})}):(0,f.jsx)(f.Fragment,{children:"Loading"})}),(0,f.jsx)("div",{}),(0,f.jsx)("div",{className:"action d-flex w-20 h-20",children:0!==v?null!==y?(0,f.jsx)("button",{onClick:function(){d.Z.incrementProductQty(parseInt(q),I.id,{quantity:v}),j.Am.success("product added into cart")},className:"add-to-cart btn btn-default w-50",type:"button",children:"add to cart"}):(0,f.jsx)("button",{onClick:function(){y||j.Am.warning("you are not logged in")},className:"add-to-cart btn btn-default ms-2",type:"button",children:"add to cart"}):(0,f.jsx)("button",{disabled:!0,className:"add-to-cart btn btn-default ms-2",type:"button",children:"add to cart"})})]})]})})})})}),(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{className:"container",children:[(0,f.jsx)("div",{id:"homepage",className:" container justify-content-center text-center align-items-center",children:(0,f.jsx)("hr",{className:"mb-5 justify-content-center text-center align-items-center"})}),(0,f.jsx)("h3",{className:"",children:"Comments :"})]}),(0,f.jsx)("section",{id:"userscomments",children:(0,f.jsx)("div",{className:"container d-flex",children:(0,f.jsxs)("div",{className:"row w-100",children:[(0,f.jsx)("div",{className:"col-md-6",children:y&&(0,f.jsx)(b,{userId:y.id,productId:R.id})}),(0,f.jsx)("div",{className:"col-md-6",children:(0,f.jsx)(g,{productId:R.id})})]})})})]})]})})}},8193:function(){}}]);