"use strict";(self.webpackChunkarynass_front=self.webpackChunkarynass_front||[]).push([[760],{6699:function(e,t,s){s.d(t,{Z:function(){return i}});var n=s(885),r=s(7313),a=s(2146),c=s(6417),i=function(e){var t=(0,r.useState)([]),s=(0,n.Z)(t,2),i=s[0],l=s[1];(0,r.useEffect)((function(){a.Z.getOneProductRating(e.id).then((function(e){return l(e[0])})).catch((function(e){return l(e.response.data)}))}),[]),console.log(i);var o=i.avg/5*100,d="".concat(10*Math.round(o/10),"%");return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"stars-outer",children:(0,c.jsx)("div",{className:"stars-inner",style:{position:"absolute",top:0,left:0,"white-space":"nowrap",overflow:"hidden",width:"".concat(d)}})}),i?(0,c.jsxs)("span",{className:"number-rating",children:[" ",i.count," reviews"]}):(0,c.jsx)(c.Fragment,{})]})}},9274:function(e,t,s){s.r(t),s.d(t,{default:function(){return w}});var n=s(4942),r=s(1413),a=s(885),c=s(7313),i=s(3709),l=s(6770),o=s(3360),d=s(7890),u=s(2210),m=(s(3151),s(9946),s(1417)),h=s(8450),x=s(2146),f=s(3560),p=s(6417),j=function(e){var t=e.stars/5*100,s="".concat(10*Math.round(t/10),"%");return(0,p.jsxs)("div",{className:"d-flex flex-row  gap-2",children:[(0,p.jsx)("div",{className:"stars-outer",children:(0,p.jsx)("div",{className:"stars-inner",style:{position:"absolute",top:0,left:0,whiteSpace:"nowrap",overflow:"hidden",width:"".concat(s)}})}),e?(0,p.jsx)("span",{className:"number-rating"}):(0,p.jsx)(p.Fragment,{})]})},g=function(e){var t=(0,c.useState)([]),s=(0,a.Z)(t,2),n=s[0],r=s[1],i=(0,c.useState)(!1),l=(0,a.Z)(i,2),o=l[0],d=l[1],u=(0,c.useState)({stars:"",userId:null,productId:null,comment:""}),m=(0,a.Z)(u,2),h=m[0];m[1],h.stars,h.userId,h.productId,h.comment;(0,c.useEffect)((function(){x.Z.getProductReviews(e.productId).then((function(e){r(e),d(!o)})).catch((function(e){return console.log("error : fetching data failed",e)}))}),[e.productId,o]);var f=n.stars/5*100;"".concat(10*Math.round(f/10),"%");return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("div",{className:"",children:n&&n.map((function(e){return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{className:"comment mt-4 p-md-4 w-100  text-justify float-left",children:[(0,p.jsx)("img",{src:"https://res.cloudinary.com/dyxihqmg8/image/upload/v1655036786/profile_tee20g.jpg",alt:"",className:"rounded-circle",width:"40",height:"40"}),(0,p.jsx)("h4",{className:"ms-2",children:e.user.username}),(0,p.jsxs)("span",{className:"float-end",children:[" ",e.createdAt]}),(0,p.jsx)("br",{}),(0,p.jsx)("p",{children:e.comment}),(0,p.jsx)(j,{stars:e.stars})]})})}))})})},v=(s(8193),s(6699)),b=[{label:"Poor",value:1},{label:"Fair",value:2},{label:"Good",value:3},{label:"Very Good",value:4},{label:"Excellent",value:5}],N=function(e){var t=(0,c.useState)({stars:"",userId:null,productId:null,comment:""}),s=(0,a.Z)(t,2),i=s[0],l=s[1],o=i.stars,d=(i.userId,i.productId,i.comment),u=function(e){l((function(t){return(0,r.Z)((0,r.Z)({},t),{},(0,n.Z)({},e.target.name,e.target.value))}))};return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("form",{id:"algin-form",children:[(0,p.jsxs)("div",{className:"form-group",children:[(0,p.jsx)("h4",{className:"mb-2 text-dark",children:"Leave a comment"}),(0,p.jsxs)("label",{for:"stars",className:"form-label fw-semibold",children:["your oppinion ",(0,p.jsx)("span",{className:"text-danger",children:" *"})]}),"                                    ",(0,p.jsx)("select",{className:"form-control w-55 text-center",id:"stars",name:"stars",value:o,onChange:u,required:!0,children:b.map((function(e){return(0,p.jsx)("option",{value:e.value,children:e.label})}))}),(0,p.jsx)("label",{for:"message",className:"mb-2 mt-2",children:"write your comment :"}),(0,p.jsx)("textarea",{id:"message",msg:!0,cols:"30",rows:"5",className:"form-control",name:"comment",value:d,onChange:u})]}),(0,p.jsx)("div",{className:"form-group",children:(0,p.jsx)("button",{type:"button",className:"btn btn-outline-dark mt-4",onClick:function(t){t.preventDefault();var s={stars:o,userId:e.userId,productId:e.productId,comment:d};x.Z.createRating(s).then((function(e){e&&f.Am.success("your comment sent successufully")})).catch((function(e){f.Am.error(e.message)}))},children:"Post Comment"})})]})})},w=function(){var e=(0,c.useState)(null),t=(0,a.Z)(e,2),s=t[0],n=t[1],r=(0,c.useState)(1),j=(0,a.Z)(r,2),b=j[0],w=j[1],y=(0,i.v9)((function(e){return e.auth})).user,Z=(0,i.v9)((function(e){return e.shopping})).shopping_session,I=(0,c.useState)([]),S=(I.reviews,I.setReviews,(0,c.useState)([])),k=(0,a.Z)(S,2),F=(k[0],k[1]),C=(0,c.useState)([]),R=(0,a.Z)(C,2),P=R[0],A=R[1],q=(0,d.UO)().pid;(0,c.useEffect)((function(){l.Z.getProductById(parseInt(q)).then((function(e){return A(e[0])})).catch((function(e){return console.log(e)})),x.Z.getProductReviews(P.id).then((function(e){return F(e)})).catch((function(e){return console.log("error : fetching data failed",e)}))}),[]);var _=function(){w(b-1)},L=function(){w(b+1)},M=(0,c.useState)({stars:"",userId:null,productId:null,comment:""}),O=(0,a.Z)(M,2),E=O[0];O[1],E.stars,E.userId,E.productId,E.comment;return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(h.Z,{children:[(0,p.jsxs)("div",{id:"searchpage",className:"container py-5 mt-5",children:[(0,p.jsx)("header",{className:"blog-header py-3",children:(0,p.jsxs)("div",{className:"row justify-content-between align-items-center",children:[(0,p.jsx)("div",{className:"col-4 pt-1",children:(0,p.jsxs)("h4",{className:"brand-title lh-1",children:["ARYNASS",(0,p.jsx)("h6",{className:"fst-italic brand-title-text",children:" COSMITICS"})]})}),(0,p.jsx)("div",{className:"col-6 text-center d-flex"})]})}),(0,p.jsx)("hr",{className:""})]}),(0,p.jsx)("section",{className:"",children:(0,p.jsx)("div",{id:"details",className:"container mb-5",children:(0,p.jsx)("div",{className:"card",children:(0,p.jsx)("div",{className:"container-fliud",children:(0,p.jsxs)("div",{className:"wrapper row",children:[(0,p.jsxs)("div",{className:"preview col-md-6",children:[(0,p.jsxs)(u.tq,{style:{"--swiper-navigation-color":"#fff","--swiper-pagination-color":"#fff"},spaceBetween:10,navigation:!0,thumbs:{swiper:s},modules:[m.Rv,m.W_,m.o3],className:"mySwiper2",children:[(0,p.jsx)(u.o5,{children:(0,p.jsx)("img",{src:P.image})}),(0,p.jsx)(u.o5,{children:(0,p.jsx)("img",{src:"/assests/backpro1.jpeg"})})]}),(0,p.jsxs)(u.tq,{onSwiper:n,spaceBetween:10,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,modules:[m.Rv,m.W_,m.o3],className:"mySwiper",children:[(0,p.jsx)(u.o5,{children:(0,p.jsx)("img",{src:P.image})}),(0,p.jsx)(u.o5,{children:(0,p.jsx)("img",{src:"/assests/backpro1.jpeg"})})]})]}),(0,p.jsxs)("div",{className:"details col-md-6",children:[P?(0,p.jsx)("h3",{className:"product-title mb-3",children:P.name}):(0,p.jsx)("h3",{children:"Loading..."}),P?(0,p.jsxs)("p",{className:"product-description",children:[" ",P.description]}):(0,p.jsx)(p.Fragment,{children:"Loading..."}),(0,p.jsxs)("div",{className:"flex-container mb-0",children:[(0,p.jsxs)("div",{className:"justify-content-between align-items-center flex-box d-flex",children:[(0,p.jsx)("h6",{className:"float-start",children:"Price"}),P?(0,p.jsxs)("span",{className:"float-end fw-bold fs-5",children:["$",P.price]}):(0,p.jsx)(p.Fragment,{children:"Loading..."})]}),(0,p.jsxs)("div",{className:"justify-content-between align-items-center flex-box d-flex",children:[(0,p.jsx)("h6",{className:"float-start",children:"Status"}),0===P.quantity?(0,p.jsx)("span",{className:"float-end fw-bold fs-6 text-danger",children:"Out of Stock"}):(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("span",{className:"float-end fw-bold fs-6 text-success",children:"In Stock"})})]}),(0,p.jsxs)("div",{className:"justify-content-between align-items-center flex-box d-flex",children:[(0,p.jsx)("h6",{className:"float-start",children:"Reviews"}),(0,p.jsx)("div",{className:"float-end",children:P&&P.id?(0,p.jsx)("div",{className:"float-end",children:(0,p.jsx)(v.Z,{id:P.id})}):(0,p.jsx)(p.Fragment,{})})]}),(0,p.jsxs)("div",{className:"justify-content-between align-items-center flex-box d-flex",children:[(0,p.jsx)("h6",{className:"float-start",children:"Quantity"}),(0,p.jsx)("div",{className:"float-end",children:1===b?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("button",{className:"btn btn-outline-warning",onClick:L,children:"+"}),(0,p.jsx)("span",{className:"mx-3 ",children:b}),(0,p.jsx)("button",{className:"btn btn-outline-warning",disabled:!0,onClick:_,children:"-"})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("button",{className:"btn btn-outline-warning",onClick:L,children:"+"}),(0,p.jsx)("span",{className:" mx-3",children:b}),(0,p.jsx)("button",{className:"btn btn-outline-warning",onClick:_,children:"-"})]})})]})]}),(0,p.jsx)("div",{children:P?(0,p.jsx)("div",{className:"float-end",children:(0,p.jsxs)("p",{className:"price mt-2",children:["current price: ",(0,p.jsxs)("span",{children:["$",parseFloat(P.price*b).toFixed(2)]})]})}):(0,p.jsx)(p.Fragment,{children:"Loading"})}),(0,p.jsx)("div",{}),(0,p.jsx)("div",{className:"action d-flex w-20 h-20",children:0!==b?null!==y?(0,p.jsx)("button",{onClick:function(){o.Z.incrementProductQty(parseInt(q),Z.id,{quantity:b}),f.Am.success("product added into cart")},className:"add-to-cart btn btn-default w-50",type:"button",children:"add to cart"}):(0,p.jsx)("button",{onClick:function(){y||f.Am.warning("you are not logged in")},className:"add-to-cart btn btn-default ms-2",type:"button",children:"add to cart"}):(0,p.jsx)("button",{disabled:!0,className:"add-to-cart btn btn-default ms-2",type:"button",children:"add to cart"})})]})]})})})})}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{className:"container",children:[(0,p.jsx)("div",{id:"homepage",className:" container justify-content-center text-center align-items-center",children:(0,p.jsx)("hr",{className:"mb-5 justify-content-center text-center align-items-center"})}),(0,p.jsx)("h3",{className:"",children:"Comments :"})]}),(0,p.jsx)("section",{id:"userscomments",children:(0,p.jsx)("div",{className:"container d-flex",children:(0,p.jsxs)("div",{className:"row w-100",children:[(0,p.jsx)("div",{className:"col-md-6",children:y&&(0,p.jsx)(N,{userId:y.id,productId:P.id})}),(0,p.jsx)("div",{className:"col-md-6",children:(0,p.jsx)(g,{productId:P.id})})]})})})]})]})})}},2146:function(e,t,s){var n=s(4165),r=s(5861),a=s(1881),c=s.n(a),i=s(9565),l="https://arynasscosmitics.arynasscos.info",o=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c().get(l+"/products/rating/avg");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t){var s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c().get(l+"/products/".concat(t,"/rating"));case 2:return s=e.sent,e.abrupt("return",s.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t){var s,r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={headers:(0,i.Z)()},e.next=3,c().post(l+"/products/create/rating",t,s);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t){var s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c().get(l+"/products/rating/".concat(t));case 2:return s=e.sent,e.abrupt("return",s.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c().get(l+"/products/reviews/all");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x={getProductRating:o,getOneProductRating:d,createRating:u,getProductReviews:m,getAllReviews:h};t.Z=x},8193:function(){}}]);